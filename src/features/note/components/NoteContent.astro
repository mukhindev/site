---
import { type CollectionEntry, render } from "astro:content";
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"article"> {
  note: CollectionEntry<"notes">;
}

const { class: className, note, ...attrs } = Astro.props;

const { Content } = await render(note);
---

<article class:list={["note-content", className]} {...attrs}>
  <Content />
</article>

<style>
  .note-content {
    --astro-code-color-background: #ffffff;
    --astro-code-color-text: #000000;
    --astro-code-token-comment: #008000;
    --astro-code-token-string: #a31515;
    --astro-code-token-keyword: #0000ff;
    --astro-code-token-constant: #007acc;
    --astro-code-token-function: #795e26;
    --astro-code-token-parameter: #001080;
    --astro-code-token-punctuation: #000000;
    --astro-code-token-operator: #000000;
    --astro-code-token-number: #098658;
    --astro-code-token-regexp: #811f3f;
    --astro-code-token-variable: #001080;
    --astro-code-token-type: #267f99;

    code {
      font-family: var(--font-code), monospace;
      font-size: 0.875em;
    }

    em {
      font-family: var(--font-code), monospace;
      font-size: 0.875em;
      font-style: italic;
      background-color: var(--accent);
      color: var(--on-accent);
      padding: 0 0.25em;
      border-radius: 4px;
    }
  }

  html.dark {
    .note-content {
      --astro-code-color-background: #1e1e1e;
      --astro-code-color-text: #d4d4d4;
      --astro-code-token-comment: #6a9955;
      --astro-code-token-string: #ce9178;
      --astro-code-token-keyword: #c586c0;
      --astro-code-token-constant: #9cdcfe;
      --astro-code-token-function: #dcdcaa;
      --astro-code-token-parameter: #9cdcfe;
      --astro-code-token-punctuation: #d4d4d4;
      --astro-code-token-operator: #d4d4d4;
      --astro-code-token-number: #b5cea8;
      --astro-code-token-regexp: #d16969;
      --astro-code-token-variable: #9cdcfe;
      --astro-code-token-type: #4ec9b0;
    }
  }
</style>
